<div class="container">
  <div class="row justify-content-around">
    <%= render 'side', user: @user %>
    <div class="col-lg-6">

      <div class="text-right">
        <%= form_with url: user_path(@user), method: :get, local: true do %>
          <label for="sort">並び替え:</label>
          <%= select_tag :sort, options_for_select([
              ['投稿日が新しい順', 'created_at_desc'],
              ['投稿日が古い順', 'created_at_asc'],
              ['いいねが多い順', 'favorite_count_desc_created_at_desc'],
              ['コメント数が多い順', 'comments_count_desc_created_at_desc']
            ], params[:sort]), onchange: 'this.form.submit();' %>
        <% end %>
      </div>
      <div class="d-flex flex-column">
        <% if @posts.present? %>
          <% @posts.each do |post| %>

            <% user = post.user %>

            <div class="d-flex flex-column p-2 border-bottom w-100">
              <%= render 'post_account', user: user %>
              <%= link_to post_path(post.id), class: 'text-decoration-none text-dark' do %>
                <%= render 'posts/posts_content', post: post %>
              <% end %>
              <%= render 'posts/posts_content_bottom', post: post %>
            </div>

          <% end %>
        <% else %>
          <p class="pt-4">まだ、投稿がありません。投稿してみましょう！</p>
        <% end %>
      </div>
    </div>
  </div>
</div>